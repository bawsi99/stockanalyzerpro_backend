{
  "success": true,
  "agent_name": "market_structure",
  "symbol": "WIPRO",
  "timestamp": "2025-10-16T12:32:44.221636",
  "processing_time": 21.595111,
  "technical_analysis": {
    "success": true,
    "agent_name": "market_structure",
    "processing_time": 0.003136,
    "timestamp": "2025-10-16T12:32:22.629687",
    "swing_points": {
      "swing_highs": [
        {
          "date": "2024-10-30 00:00:00+05:30",
          "price": 283.75,
          "index": 10,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2024-11-11 00:00:00+05:30",
          "price": 285.9,
          "index": 18,
          "strength": "medium",
          "type": "swing_high"
        },
        {
          "date": "2024-11-27 00:00:00+05:30",
          "price": 292.2,
          "index": 28,
          "strength": "strong",
          "type": "swing_high"
        },
        {
          "date": "2024-12-12 00:00:00+05:30",
          "price": 307.7,
          "index": 39,
          "strength": "medium",
          "type": "swing_high"
        },
        {
          "date": "2024-12-20 00:00:00+05:30",
          "price": 313.75,
          "index": 45,
          "strength": "medium",
          "type": "swing_high"
        },
        {
          "date": "2025-01-23 00:00:00+05:30",
          "price": 318.3,
          "index": 68,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2025-02-06 00:00:00+05:30",
          "price": 323.6,
          "index": 79,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2025-02-19 00:00:00+05:30",
          "price": 316.5,
          "index": 88,
          "strength": "medium",
          "type": "swing_high"
        },
        {
          "date": "2025-03-25 00:00:00+05:30",
          "price": 274.7,
          "index": 110,
          "strength": "strong",
          "type": "swing_high"
        },
        {
          "date": "2025-05-12 00:00:00+05:30",
          "price": 257.94,
          "index": 139,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2025-05-29 00:00:00+05:30",
          "price": 251.74,
          "index": 152,
          "strength": "strong",
          "type": "swing_high"
        },
        {
          "date": "2025-06-26 00:00:00+05:30",
          "price": 271.3,
          "index": 172,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2025-07-04 00:00:00+05:30",
          "price": 271.4,
          "index": 178,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2025-07-18 00:00:00+05:30",
          "price": 271.9,
          "index": 188,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2025-08-25 00:00:00+05:30",
          "price": 257.29,
          "index": 213,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2025-09-10 00:00:00+05:30",
          "price": 257.17,
          "index": 224,
          "strength": "weak",
          "type": "swing_high"
        },
        {
          "date": "2025-09-18 00:00:00+05:30",
          "price": 259.8,
          "index": 230,
          "strength": "weak",
          "type": "swing_high"
        }
      ],
      "swing_lows": [
        {
          "date": "2024-11-04 00:00:00+05:30",
          "price": 261.9,
          "index": 13,
          "strength": "weak",
          "type": "swing_low"
        },
        {
          "date": "2024-11-18 00:00:00+05:30",
          "price": 264.9,
          "index": 22,
          "strength": "weak",
          "type": "swing_low"
        },
        {
          "date": "2024-12-19 00:00:00+05:30",
          "price": 295.3,
          "index": 44,
          "strength": "medium",
          "type": "swing_low"
        },
        {
          "date": "2025-01-17 00:00:00+05:30",
          "price": 275.05,
          "index": 64,
          "strength": "medium",
          "type": "swing_low"
        },
        {
          "date": "2025-02-03 00:00:00+05:30",
          "price": 300.3,
          "index": 76,
          "strength": "medium",
          "type": "swing_low"
        },
        {
          "date": "2025-03-19 00:00:00+05:30",
          "price": 256.25,
          "index": 106,
          "strength": "weak",
          "type": "swing_low"
        },
        {
          "date": "2025-04-07 00:00:00+05:30",
          "price": 228.0,
          "index": 118,
          "strength": "medium",
          "type": "swing_low"
        },
        {
          "date": "2025-04-17 00:00:00+05:30",
          "price": 232.15,
          "index": 124,
          "strength": "medium",
          "type": "swing_low"
        },
        {
          "date": "2025-05-07 00:00:00+05:30",
          "price": 236.01,
          "index": 136,
          "strength": "weak",
          "type": "swing_low"
        },
        {
          "date": "2025-05-22 00:00:00+05:30",
          "price": 245.0,
          "index": 147,
          "strength": "strong",
          "type": "swing_low"
        },
        {
          "date": "2025-06-03 00:00:00+05:30",
          "price": 245.73,
          "index": 155,
          "strength": "weak",
          "type": "swing_low"
        },
        {
          "date": "2025-07-14 00:00:00+05:30",
          "price": 251.65,
          "index": 184,
          "strength": "weak",
          "type": "swing_low"
        },
        {
          "date": "2025-08-08 00:00:00+05:30",
          "price": 238.4,
          "index": 203,
          "strength": "weak",
          "type": "swing_low"
        },
        {
          "date": "2025-09-05 00:00:00+05:30",
          "price": 241.27,
          "index": 221,
          "strength": "weak",
          "type": "swing_low"
        },
        {
          "date": "2025-09-26 00:00:00+05:30",
          "price": 235.01,
          "index": 236,
          "strength": "weak",
          "type": "swing_low"
        }
      ],
      "total_swings": 32,
      "swing_density": 0.13,
      "analysis_method": "local_extrema",
      "lookback_period": 5
    },
    "bos_choch_analysis": {
      "bos_events": [
        {
          "type": "bullish_bos",
          "date": "2024-11-27 00:00:00+05:30",
          "break_price": 292.2,
          "previous_level": 285.9,
          "percentage_break": 2.2,
          "strength": "medium"
        },
        {
          "type": "bullish_bos",
          "date": "2024-12-12 00:00:00+05:30",
          "break_price": 307.7,
          "previous_level": 292.2,
          "percentage_break": 5.3,
          "strength": "strong"
        },
        {
          "type": "bullish_bos",
          "date": "2024-12-20 00:00:00+05:30",
          "break_price": 313.75,
          "previous_level": 307.7,
          "percentage_break": 1.97,
          "strength": "medium"
        },
        {
          "type": "bullish_bos",
          "date": "2025-01-23 00:00:00+05:30",
          "break_price": 318.3,
          "previous_level": 313.75,
          "percentage_break": 1.45,
          "strength": "medium"
        },
        {
          "type": "bullish_bos",
          "date": "2025-02-06 00:00:00+05:30",
          "break_price": 323.6,
          "previous_level": 318.3,
          "percentage_break": 1.67,
          "strength": "medium"
        },
        {
          "type": "bullish_bos",
          "date": "2025-06-26 00:00:00+05:30",
          "break_price": 271.3,
          "previous_level": 251.74,
          "percentage_break": 7.77,
          "strength": "strong"
        },
        {
          "type": "bullish_bos",
          "date": "2025-09-18 00:00:00+05:30",
          "break_price": 259.8,
          "previous_level": 257.17,
          "percentage_break": 1.02,
          "strength": "medium"
        },
        {
          "type": "bearish_bos",
          "date": "2025-01-17 00:00:00+05:30",
          "break_price": 275.05,
          "previous_level": 295.3,
          "percentage_break": 6.86,
          "strength": "strong"
        },
        {
          "type": "bearish_bos",
          "date": "2025-03-19 00:00:00+05:30",
          "break_price": 256.25,
          "previous_level": 300.3,
          "percentage_break": 14.67,
          "strength": "strong"
        },
        {
          "type": "bearish_bos",
          "date": "2025-04-07 00:00:00+05:30",
          "break_price": 228.0,
          "previous_level": 256.25,
          "percentage_break": 11.02,
          "strength": "strong"
        },
        {
          "type": "bearish_bos",
          "date": "2025-08-08 00:00:00+05:30",
          "break_price": 238.4,
          "previous_level": 251.65,
          "percentage_break": 5.27,
          "strength": "strong"
        },
        {
          "type": "bearish_bos",
          "date": "2025-09-26 00:00:00+05:30",
          "break_price": 235.01,
          "previous_level": 241.27,
          "percentage_break": 2.59,
          "strength": "medium"
        }
      ],
      "choch_events": [],
      "total_bos_events": 12,
      "total_choch_events": 0,
      "recent_structural_break": {
        "type": "bearish_bos",
        "date": "2025-09-26 00:00:00+05:30",
        "break_price": 235.01,
        "previous_level": 241.27,
        "percentage_break": 2.59,
        "strength": "medium"
      },
      "structural_bias": "bearish"
    },
    "trend_analysis": {
      "trend_direction": "downtrend",
      "trend_strength": "medium",
      "trend_consistency": {
        "consistency": "low",
        "score": 0.37,
        "consistent_swings": 11,
        "total_evaluated_swings": 30
      },
      "price_position_in_range": 0.27,
      "current_price": 253.34,
      "range_high": 323.6,
      "range_low": 228.0,
      "trend_quality": "fair",
      "market_regime": {
        "regime": "mixed",
        "confidence": 0.75,
        "volatility": 0.26,
        "price_change_pct": -2.9,
        "swing_rate": 0.13,
        "regime_scores": {
          "trending": 0,
          "volatile": 1,
          "consolidating": 0,
          "mixed": 3
        }
      }
    },
    "key_levels": {
      "resistance_levels": [
        {
          "level": 283.75,
          "date": "2024-10-30 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 285.9,
          "date": "2024-11-11 00:00:00+05:30",
          "strength": "medium",
          "type": "resistance"
        },
        {
          "level": 292.2,
          "date": "2024-11-27 00:00:00+05:30",
          "strength": "strong",
          "type": "resistance"
        },
        {
          "level": 307.7,
          "date": "2024-12-12 00:00:00+05:30",
          "strength": "medium",
          "type": "resistance"
        },
        {
          "level": 313.75,
          "date": "2024-12-20 00:00:00+05:30",
          "strength": "medium",
          "type": "resistance"
        },
        {
          "level": 318.3,
          "date": "2025-01-23 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 323.6,
          "date": "2025-02-06 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 316.5,
          "date": "2025-02-19 00:00:00+05:30",
          "strength": "medium",
          "type": "resistance"
        },
        {
          "level": 274.7,
          "date": "2025-03-25 00:00:00+05:30",
          "strength": "strong",
          "type": "resistance"
        },
        {
          "level": 257.94,
          "date": "2025-05-12 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 251.74,
          "date": "2025-05-29 00:00:00+05:30",
          "strength": "strong",
          "type": "resistance"
        },
        {
          "level": 271.3,
          "date": "2025-06-26 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 271.4,
          "date": "2025-07-04 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 271.9,
          "date": "2025-07-18 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 257.29,
          "date": "2025-08-25 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 257.17,
          "date": "2025-09-10 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        },
        {
          "level": 259.8,
          "date": "2025-09-18 00:00:00+05:30",
          "strength": "weak",
          "type": "resistance"
        }
      ],
      "support_levels": [
        {
          "level": 261.9,
          "date": "2024-11-04 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        },
        {
          "level": 264.9,
          "date": "2024-11-18 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        },
        {
          "level": 295.3,
          "date": "2024-12-19 00:00:00+05:30",
          "strength": "medium",
          "type": "support"
        },
        {
          "level": 275.05,
          "date": "2025-01-17 00:00:00+05:30",
          "strength": "medium",
          "type": "support"
        },
        {
          "level": 300.3,
          "date": "2025-02-03 00:00:00+05:30",
          "strength": "medium",
          "type": "support"
        },
        {
          "level": 256.25,
          "date": "2025-03-19 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        },
        {
          "level": 228.0,
          "date": "2025-04-07 00:00:00+05:30",
          "strength": "medium",
          "type": "support"
        },
        {
          "level": 232.15,
          "date": "2025-04-17 00:00:00+05:30",
          "strength": "medium",
          "type": "support"
        },
        {
          "level": 236.01,
          "date": "2025-05-07 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        },
        {
          "level": 245.0,
          "date": "2025-05-22 00:00:00+05:30",
          "strength": "strong",
          "type": "support"
        },
        {
          "level": 245.73,
          "date": "2025-06-03 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        },
        {
          "level": 251.65,
          "date": "2025-07-14 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        },
        {
          "level": 238.4,
          "date": "2025-08-08 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        },
        {
          "level": 241.27,
          "date": "2025-09-05 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        },
        {
          "level": 235.01,
          "date": "2025-09-26 00:00:00+05:30",
          "strength": "weak",
          "type": "support"
        }
      ],
      "nearest_resistance": {
        "level": 257.17,
        "date": "2025-09-10 00:00:00+05:30",
        "strength": "weak",
        "type": "resistance"
      },
      "nearest_support": {
        "level": 251.65,
        "date": "2025-07-14 00:00:00+05:30",
        "strength": "weak",
        "type": "support"
      },
      "current_price": 253.34,
      "total_key_levels": 32
    },
    "structure_quality": {
      "quality_score": 100,
      "quality_rating": "excellent",
      "quality_factors": [
        "optimal_swing_density",
        "moderate_trend_consistency",
        "strong_bos_present",
        "clear_trend_direction",
        "sufficient_swing_data",
        "coherent_structural_bias"
      ],
      "assessment_criteria": {
        "swing_density": 0.13,
        "trend_consistency_score": 0.37,
        "strong_bos_count": 6,
        "total_bos_count": 12,
        "trend_clarity": true,
        "total_swings": 32
      }
    },
    "current_state": {
      "current_price": 253.34,
      "price_momentum_10d": 5.13,
      "position_in_recent_range": 0.74,
      "price_position_description": "mid_range",
      "recent_range_high": 259.8,
      "recent_range_low": 235.01,
      "trend_alignment": "downtrend",
      "structure_state": "transitional"
    },
    "fractal_analysis": {
      "daily_structure": {
        "swing_count": 32,
        "trend": "downtrend"
      },
      "weekly_structure": {
        "swing_count": 6,
        "trend": "downtrend"
      },
      "monthly_structure": {
        "swing_count": 1,
        "trend": "insufficient_data"
      },
      "timeframe_alignment": "conflicting",
      "trend_consensus": "downtrend"
    },
    "analysis_period_days": 250,
    "total_swing_highs": 17,
    "total_swing_lows": 15,
    "confidence_score": 1.0,
    "data_quality": {
      "data_length": 250,
      "missing_data_percentage": 0.0,
      "length_quality": "excellent",
      "overall_quality_score": 100,
      "sufficient_for_analysis": "True"
    }
  },
  "chart_image": "<bytes:445433B>",
  "llm_analysis": "```json\n{\n  \"swing_points\": {\n    \"total_swing_points\": 32,\n    \"swing_quality\": \"strong\",\n    \"recent_swing_highs\": 3,\n    \"recent_swing_lows\": 3,\n    \"swing_density\": \"optimal\"\n  },\n  \"structural_breaks\": {\n    \"bos_events\": 12,\n    \"choch_events\": 0,\n    \"recent_break_type\": \"bearish_bos\",\n    \"structural_bias\": \"bearish\",\n    \"break_strength\": \"medium\"\n  },\n  \"trend_structure\": {\n    \"trend_direction\": \"downtrend\",\n    \"trend_strength\": \"medium\",\n    \"higher_highs_lows\": \"absent\",\n    \"structure_integrity\": \"weakening\"\n  },\n  \"key_levels\": {\n    \"nearest_resistance\": 257.17,\n    \"nearest_support\": 251.65,\n    \"current_position\": \"mid_range\",\n    \"level_count\": 32\n  },\n  \"current_state\": \"trending_down\",\n  \"confidence_score\": 100,\n  \"key_insight\": \"WIPRO is in a medium-strength downtrend with a bearish structural bias confirmed by a recent bearish BOS. The overall structure quality is excellent, but the trend's consistency is low, indicating a transitional state. Price is currently in the mid-range relative to overall range but near weak support levels.\"\n}\n```",
  "has_llm_analysis": true,
  "agent_info": {
    "agent_name": "market_structure",
    "agent_version": "1.0.0",
    "description": "Analyzes market structure, swing points, BOS/CHOCH events, and trend structure",
    "capabilities": [
      "swing_point_analysis",
      "bos_choch_detection",
      "trend_structure_analysis",
      "support_resistance_from_structure",
      "fractal_analysis",
      "llm_enhanced_insights",
      "multi_modal_analysis"
    ]
  },
  "confidence_score": 100
}